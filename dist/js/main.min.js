$(document).ready(function(){feather.replace(),$("a").on("click",function(e){if(""!==this.hash){e.preventDefault();var t=this.hash;$("html, body").animate({scrollTop:$(t).offset().top},500,"swing",function(){window.location.hash=t})}});var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))});var S,r,d,n,h,i,t,o,a,c,f={width:1.1,height:1.1,depth:15,segments:160,slices:80,xRange:.25,yRange:.25,zRange:1,ambient:"#595959",diffuse:"#FFFFFF",speed:5e-4},u={count:1,xyScalar:.9,zOffset:150,ambient:"#393939",diffuse:"#212121",speed:.001,gravity:600,dampening:.95,minLimit:10,maxLimit:null,minDistance:20,maxDistance:400,autopilot:!0,draw:!1,bounds:FSS.Vector3.create(),step:FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1))},s="webgl",l="canvas",m="svg",g={renderer:l},p=Date.now(),F=FSS.Vector3.create(),b=FSS.Vector3.create(),V=document.getElementById("fss-container");function v(){var e,t;for(d.remove(n),r.clear(),h=new FSS.Plane(f.width*r.width,f.height*r.height,Math.round(r.width/f.slices),Math.round(r.height/f.segments)),i=new FSS.Material(f.ambient,f.diffuse),n=new FSS.Mesh(h,i),d.add(n),e=h.vertices.length-1;0<=e;e--)(t=h.vertices[e]).anchor=FSS.Vector3.clone(t.position),t.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),t.time=Math.randomInRange(0,Math.PIM2)}function w(e,t){r.setSize(e,t),FSS.Vector3.set(F,r.halfWidth,r.halfHeight),v()}function x(){S=Date.now()-p,function(){var e,t,n,i,r,o,a,c=f.depth/2;FSS.Vector3.copy(u.bounds,F),FSS.Vector3.multiplyScalar(u.bounds,u.xyScalar),FSS.Vector3.setZ(b,u.zOffset),u.autopilot&&(e=Math.sin(u.step[0]*S*u.speed),t=Math.cos(u.step[1]*S*u.speed),FSS.Vector3.set(b,u.bounds[0]*e,u.bounds[1]*t,u.zOffset));for(i=d.lights.length-1;0<=i;i--){r=d.lights[i],FSS.Vector3.setZ(r.position,u.zOffset);var s=Math.clamp(FSS.Vector3.distanceSquared(r.position,b),u.minDistance,u.maxDistance),l=u.gravity*r.mass/s;FSS.Vector3.subtractVectors(r.force,b,r.position),FSS.Vector3.normalise(r.force),FSS.Vector3.multiplyScalar(r.force,l),FSS.Vector3.set(r.acceleration),FSS.Vector3.add(r.acceleration,r.force),FSS.Vector3.add(r.velocity,r.acceleration),FSS.Vector3.multiplyScalar(r.velocity,u.dampening),FSS.Vector3.limit(r.velocity,u.minLimit,u.maxLimit),FSS.Vector3.add(r.position,r.velocity)}for(o=h.vertices.length-1;0<=o;o--)a=h.vertices[o],e=Math.sin(a.time+a.step[0]*S*f.speed),t=Math.cos(a.time+a.step[1]*S*f.speed),n=Math.sin(a.time+a.step[2]*S*f.speed),FSS.Vector3.set(a.position,f.xRange*h.segmentWidth*e,f.yRange*h.sliceHeight*t,f.zRange*c*n-c),FSS.Vector3.add(a.position,a.anchor);h.dirty=!0}(),y(),requestAnimationFrame(x)}function y(){var e,t,n,i;if(r.render(d),u.draw)for(e=d.lights.length-1;0<=e;e--)switch(t=(i=d.lights[e]).position[0],n=i.position[1],g.renderer){case l:r.context.lineWidth=.5,r.context.beginPath(),r.context.arc(t,n,10,0,Math.PIM2),r.context.strokeStyle=i.ambientHex,r.context.stroke(),r.context.beginPath(),r.context.arc(t,n,4,0,Math.PIM2),r.context.fillStyle=i.diffuseHex,r.context.fill();break;case m:t+=r.halfWidth,n=r.halfHeight-n,i.core.setAttributeNS(null,"fill",i.diffuseHex),i.core.setAttributeNS(null,"cx",t),i.core.setAttributeNS(null,"cy",n),r.element.appendChild(i.core),i.ring.setAttributeNS(null,"stroke",i.ambientHex),i.ring.setAttributeNS(null,"cx",t),i.ring.setAttributeNS(null,"cy",n),r.element.appendChild(i.ring)}}function M(e){FSS.Vector3.set(b,e.x,r.height-e.y),FSS.Vector3.subtract(b,F),u.autopilot=!u.autopilot,c.updateDisplay()}function R(e){FSS.Vector3.set(b,e.x,r.height-e.y),FSS.Vector3.subtract(b,F)}function H(e){w(V.offsetWidth,V.offsetHeight),y()}t=new FSS.WebGLRenderer,o=new FSS.CanvasRenderer,a=new FSS.SVGRenderer,function(e){r&&V.removeChild(r.element);switch(e){case s:r=t;break;case l:r=o;break;case m:r=a}r.setSize(V.offsetWidth,V.offsetHeight),V.appendChild(r.element)}(g.renderer),d=new FSS.Scene,v(),function(){var e,t;for(e=d.lights.length-1;0<=e;e--)t=d.lights[e],d.remove(t);for(r.clear(),e=0;e<u.count;e++)(t=new FSS.Light(u.ambient,u.diffuse)).ambientHex=t.ambient.format(),t.diffuseHex=t.diffuse.format(),d.add(t),t.mass=Math.randomInRange(.5,1),t.velocity=FSS.Vector3.create(),t.acceleration=FSS.Vector3.create(),t.force=FSS.Vector3.create(),t.ring=document.createElementNS(FSS.SVGNS,"circle"),t.ring.setAttributeNS(null,"stroke",t.ambientHex),t.ring.setAttributeNS(null,"stroke-width","0.5"),t.ring.setAttributeNS(null,"fill","none"),t.ring.setAttributeNS(null,"r","10"),t.core=document.createElementNS(FSS.SVGNS,"circle"),t.core.setAttributeNS(null,"fill",t.diffuseHex),t.core.setAttributeNS(null,"r","4")}(),window.addEventListener("resize",H),V.addEventListener("click",M),V.addEventListener("mousemove",R),w(V.offsetWidth,V.offsetHeight),x()});